language: r
r:
- devel
- release
cache: packages
warnings_are_errors: true

r_packages: 
- hutils

r_github_packages:
  - hughparsonage/taxstats
  - hughparsonage/formalCoverage
  - jimhester/covr

after_success:
  - Rscript -e 'formalCoverage::formalPackageCoverage()'
  - if [ $TRAVIS_R_VERSION_STRING == "release" ]; then Rscript -e 'covr::codecov(line_exclusions = "R/zzz.R")'; fi
