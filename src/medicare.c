#include "grattan.h"



Medicare yr2Medicare(int yr) {
  Medicare M;
  switch(yr) {
  case 1984: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1984;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1984;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1984;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1984;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1984;
    M.taper = ML_TAPER_1984;
    M.rate = ML_RATE_1984;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1985: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1985;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1985;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1985;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1985;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1985;
    M.taper = ML_TAPER_1985;
    M.rate = ML_RATE_1985;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1986: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1986;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1986;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1986;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1986;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1986;
    M.taper = ML_TAPER_1986;
    M.rate = ML_RATE_1986;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1987: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1987;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1987;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1987;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1987;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1987;
    M.taper = ML_TAPER_1987;
    M.rate = ML_RATE_1987;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1988: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1988;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1988;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1988;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1988;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1988;
    M.taper = ML_TAPER_1988;
    M.rate = ML_RATE_1988;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1989: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1989;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1989;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1989;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1989;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1989;
    M.taper = ML_TAPER_1989;
    M.rate = ML_RATE_1989;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1990: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1990;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1990;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1990;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1990;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1990;
    M.taper = ML_TAPER_1990;
    M.rate = ML_RATE_1990;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1991: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1991;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1991;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1991;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1991;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1991;
    M.taper = ML_TAPER_1991;
    M.rate = ML_RATE_1991;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1992: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1992;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1992;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1992;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1992;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1992;
    M.taper = ML_TAPER_1992;
    M.rate = ML_RATE_1992;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1993: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1993;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1993;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1993;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1993;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1993;
    M.taper = ML_TAPER_1993;
    M.rate = ML_RATE_1993;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1994: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1994;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1994;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1994;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1994;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1994;
    M.taper = ML_TAPER_1994;
    M.rate = ML_RATE_1994;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1995: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1995;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1995;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1995;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1995;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1995;
    M.taper = ML_TAPER_1995;
    M.rate = ML_RATE_1995;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1996: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1996;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1996;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1996;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1996;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1996;
    M.taper = ML_TAPER_1996;
    M.rate = ML_RATE_1996;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1997: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1997;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1997;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1997;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1997;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1997;
    M.taper = ML_TAPER_1997;
    M.rate = ML_RATE_1997;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1998: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1998;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1998;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1998;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1998;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1998;
    M.taper = ML_TAPER_1998;
    M.rate = ML_RATE_1998;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 1999: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_1999;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_1999;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_1999;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_1999;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_1999;
    M.taper = ML_TAPER_1999;
    M.rate = ML_RATE_1999;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2000: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2000;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2000;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2000;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2000;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2000;
    M.taper = ML_TAPER_2000;
    M.rate = ML_RATE_2000;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2001: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2001;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2001;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2001;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2001;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2001;
    M.taper = ML_TAPER_2001;
    M.rate = ML_RATE_2001;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2002: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2002;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2002;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2002;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2002;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2002;
    M.taper = ML_TAPER_2002;
    M.rate = ML_RATE_2002;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2003: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2003;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2003;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2003;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2003;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2003;
    M.taper = ML_TAPER_2003;
    M.rate = ML_RATE_2003;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2004: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2004;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2004;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2004;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2004;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2004;
    M.taper = ML_TAPER_2004;
    M.rate = ML_RATE_2004;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2005: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2005;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2005;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2005;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2005;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2005;
    M.taper = ML_TAPER_2005;
    M.rate = ML_RATE_2005;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2006: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2006;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2006;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2006;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2006;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2006;
    M.taper = ML_TAPER_2006;
    M.rate = ML_RATE_2006;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2007: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2007;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2007;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2007;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2007;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2007;
    M.taper = ML_TAPER_2007;
    M.rate = ML_RATE_2007;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2008: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2008;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2008;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2008;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2008;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2008;
    M.taper = ML_TAPER_2008;
    M.rate = ML_RATE_2008;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2009: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2009;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2009;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2009;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2009;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2009;
    M.taper = ML_TAPER_2009;
    M.rate = ML_RATE_2009;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2010: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2010;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2010;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2010;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2010;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2010;
    M.taper = ML_TAPER_2010;
    M.rate = ML_RATE_2010;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2011: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2011;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2011;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2011;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2011;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2011;
    M.taper = ML_TAPER_2011;
    M.rate = ML_RATE_2011;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2012: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2012;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2012;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2012;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2012;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2012;
    M.taper = ML_TAPER_2012;
    M.rate = ML_RATE_2012;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2013: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2013;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2013;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2013;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2013;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2013;
    M.taper = ML_TAPER_2013;
    M.rate = ML_RATE_2013;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2014: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2014;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2014;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2014;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2014;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2014;
    M.taper = ML_TAPER_2014;
    M.rate = ML_RATE_2014;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2015: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2015;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2015;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2015;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2015;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2015;
    M.taper = ML_TAPER_2015;
    M.rate = ML_RATE_2015;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2016: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2016;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2016;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2016;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2016;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2016;
    M.taper = ML_TAPER_2016;
    M.rate = ML_RATE_2016;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2017: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2017;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2017;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2017;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2017;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2017;
    M.taper = ML_TAPER_2017;
    M.rate = ML_RATE_2017;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2018: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2018;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2018;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2018;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2018;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2018;
    M.taper = ML_TAPER_2018;
    M.rate = ML_RATE_2018;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2019: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2019;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2019;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2019;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2019;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2019;
    M.taper = ML_TAPER_2019;
    M.rate = ML_RATE_2019;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2020: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2020;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2020;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2020;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2020;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2020;
    M.taper = ML_TAPER_2020;
    M.rate = ML_RATE_2020;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2021: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2021;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2021;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2021;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2021;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2021;
    M.taper = ML_TAPER_2021;
    M.rate = ML_RATE_2021;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2022: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2022;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2022;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2022;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2022;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2022;
    M.taper = ML_TAPER_2022;
    M.rate = ML_RATE_2022;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2023: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2023;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2023;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2023;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2023;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2023;
    M.taper = ML_TAPER_2023;
    M.rate = ML_RATE_2023;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2024: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2024;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2024;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2024;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2024;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2024;
    M.taper = ML_TAPER_2024;
    M.rate = ML_RATE_2024;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2025: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2025;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2025;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2025;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2025;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2025;
    M.taper = ML_TAPER_2025;
    M.rate = ML_RATE_2025;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2026: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2026;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2026;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2026;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2026;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2026;
    M.taper = ML_TAPER_2026;
    M.rate = ML_RATE_2026;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2027: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2027;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2027;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2027;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2027;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2027;
    M.taper = ML_TAPER_2027;
    M.rate = ML_RATE_2027;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2028: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2028;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2028;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2028;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2028;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2028;
    M.taper = ML_TAPER_2028;
    M.rate = ML_RATE_2028;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2029: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2029;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2029;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2029;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2029;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2029;
    M.taper = ML_TAPER_2029;
    M.rate = ML_RATE_2029;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  case 2030: {
    M.lwr_single = ML_LWR_THRESHOLD_SINGLE_2030;
    M.upr_single = ML_UPR_THRESHOLD_SINGLE_2030;
    M.lwr_family = ML_LWR_THRESHOLD_FAMILY_2030;
    M.upr_family = ML_UPR_THRESHOLD_FAMILY_2030;
    M.lwr_thr_up_per_child = ML_LWR_THR_UP_PER_CHILD_2030;
    M.taper = ML_TAPER_2030;
    M.rate = ML_RATE_2030;
    M.has_sapto_thr = 1;
    M.sapto_age = 65;
  }
    break;
  }
  switch(yr) {
  case 2000: {
    // M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2000;
    // M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2000;
  }
    break;
  case 2001: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2001;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2001;
  }
    break;
  case 2002: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2002;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2002;
  }
    break;
  case 2003: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2003;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2003;
  }
    break;
  case 2004: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2004;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2004;
  }
    break;
  case 2005: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2005;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2005;
  }
    break;
  case 2006: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2006;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2006;
  }
    break;
  case 2007: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2007;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2007;
  }
    break;
  case 2008: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2008;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2008;
  }
    break;
  case 2009: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2009;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2009;
  }
    break;
  case 2010: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2010;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2010;
  }
    break;
  case 2011: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2011;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2011;
  }
    break;
  case 2012: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2012;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2012;
  }
    break;
  case 2013: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2013;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2013;
  }
    break;
  case 2014: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2014;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2014;
  }
    break;
  case 2015: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2015;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2015;
  }
    break;
  case 2016: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2016;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2016;
  }
    break;
  case 2017: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2017;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2017;
  }
    break;
  case 2018: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2018;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2018;
  }
    break;
  case 2019: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2019;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2019;
  }
    break;
  case 2020: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2020;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2020;
  }
    break;
  case 2021: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2021;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2021;
  }
    break;
  case 2022: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2022;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2022;
  }
    break;
  case 2023: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2023;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2023;
  }
    break;
  case 2024: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2024;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2024;
  }
    break;
  case 2025: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2025;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2025;
  }
    break;
  case 2026: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2026;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2026;
  }
    break;
  case 2027: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2027;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2027;
  }
    break;
  case 2028: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2028;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2028;
  }
    break;
  case 2029: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2029;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2029;
  }
    break;
  case 2030: {
    M.lwr_single_sapto = ML_LWR_THRESHOLD_SINGLE_SAPTO_2030;
    M.lwr_family_sapto = ML_LWR_THRESHOLD_FAMILY_SAPTO_2030;
  }
    break;
  }
  return M;
}

SEXP Cml_lwr(SEXP Yr, SEXP fam) {
  int f = asInteger(fam);
  int yr = asInteger(Yr);
  System Sys = yr2System(yr);
  switch(f) {
  case 0:
    return ScalarInteger(Sys.M.lwr_single);
  case 1:
    return ScalarInteger(Sys.M.lwr_family);
  case 2:
    return ScalarInteger(Sys.M.lwr_single_sapto);
  case 3:
    return ScalarInteger(Sys.M.lwr_family_sapto);
  }
  error("Unsupported.");
  return R_NilValue;
}

SEXP Cml_child(SEXP Yr) {
  int yr = asInteger(Yr);
  System Sys = yr2System(yr);
  return ScalarInteger(Sys.M.lwr_thr_up_per_child);
}

static bool valid_lwr_upr_taper(int mxo, int lwr, int upr, double taper) {
  return lwr + (mxo / taper) == upr;
}

static bool valid_lwr_upr_125(int mxo, int lwr, int upr) {
  return lwr + (mxo << 3) == upr;
}

static bool valid_lwr_upr_010_002(int lwr, int upr) {
  return 0.02 * upr == (upr - lwr) * 0.1;
}

static int upper_threshold(int lower, double r, double t) {
  double ratio = t / (t - r);
  return ceil(lower * ratio);
}
static int lower_threshold(int upper, double r, double t) {
  double ratio = (t - r) / t;
  return ceil(upper * ratio);
}
static double rate(int lower, int upper, double t) {
  double o = t * (upper - lower);
  return o / (double)upper;
}

static void validate_lwr_upr(int * lwr, int * upr, double * r, double * t, const char * str, int fix, int yr) {
  double ratio = t[0]/(t[0] - r[0]);
  int exp_upr = lwr[0] * ratio;
  int dxp_upr = upr[0] - exp_upr;
  if (dxp_upr > 1 || dxp_upr < -1) {
    if (!fix) {
      error("`%s = %d`, but %d was expected", str, upr[0], exp_upr);
    }
    upr[0] = exp_upr;
  }
  
}


void validate_medicare(Medicare * M, int fix, int yr) {
  validate_lwr_upr(&(M->lwr_single), &(M->upr_single), &(M->rate), &(M->taper), "medicare_levy_upper_threshold", fix, yr);
  validate_lwr_upr(&(M->lwr_single_sapto), &(M->upr_single_sapto), &(M->rate), &(M->taper), "medicare_levy_upper_sapto_threshold", fix, yr);
  validate_lwr_upr(&(M->lwr_family), &(M->upr_family), &(M->rate), &(M->taper), "medicare_levy_upper_family_threshold", fix, yr);
  validate_lwr_upr(&(M->lwr_family_sapto), &(M->upr_family_sapto), &(M->rate), &(M->taper), "medicare_levy_upper_sapto_family_threshold", fix, yr);
  
}

void print_Medicare(Medicare M) {
  Rprintf("Medicare:\n");
  Rprintf("\t%d\n", M.lwr_single);
  Rprintf("\t%d\n", M.upr_single);
  Rprintf("\t%d\n", M.lwr_family);
  Rprintf("\t%d\n", M.upr_family);
  Rprintf("\t%d\n", M.has_sapto_thr);
  Rprintf("\t%d\n", M.sapto_age);
  Rprintf("\t%d\n", M.lwr_single_sapto);
  Rprintf("\t%d\n", M.upr_single_sapto);
  Rprintf("\t%d\n", M.lwr_family_sapto);
  Rprintf("\t%d\n", M.upr_family_sapto);
  Rprintf("\t%d\n", M.lwr_thr_up_per_child);
  Rprintf("\t%f\n", M.taper);
  Rprintf("\t%f\n", M.rate);
}



